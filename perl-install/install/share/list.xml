<list no-arch-libraries="on">

<from expand="binary">
  <if ARCH="ppc">
    pdisk 
  </if>

  <mode copy="dereference">
    Xorg
  </mode>
  xset
  xkbcomp setxkbmap

  fb2png
  perl
  monitor-edid monitor-get-edid-using-vbe monitor-parse-edid monitor-get-edid

  <filter subst="s!^echo!/bin/echo!">
    unicode_start
  </filter>

  <if ARCH="ia64">
  efibootmgr 
  </if>

  <if ARCH="ppc">
    hattrib hcopy hcd
    hformat hmount humount 
  </if>

  <if set="DEBUG_INSTALL">
    strace bash less ps top gdb
  </if>
</from>

<from dir="/usr/LIB/xorg/modules">
  drivers/fbdev_drv.so
  drivers/vesa_drv.so
  input/kbd_drv.so
  input/mouse_drv.so
  input/vmmouse_drv.so
  input/wacom_drv.so
  libfbdevhw.so
  libfb.so
  libint10.so
  libshadow.so
  libvbe.so
</from>

<from dir="/usr/share/X11/xkb">
 <filter subst="s!//.*!!">
  geometry/pc
  keycodes/aliases
  keycodes/xfree86
  rules/base
  rules/base.lst
  rules/xorg
  rules/xorg.lst
  compat types
  <from expand="glob">
    symbols/*
  </from>
 </filter>
</from>

<from dir="/usr/share/fonts/">
  <to flatten="on">
    misc/cursor.pcf.gz
    TTF/bengali/MuktiNarrow.ttf
    TTF/dejavu/DejaVuSans.ttf
    TTF/dejavu/DejaVuSans-Bold.ttf
    TTF/dejavu/DejaVuSans-BoldOblique.ttf
    TTF/devanagari/raghu.ttf
    TTF/lohit/lohit_pa.ttf
    TTF/thai/Norasi.ttf
    TTF/wqy-microhei/wqy-microhei.ttc
  </to>
</from>

<from dir="/usr/share/locale">
  <to dir="/usr/share/locale_special">
    <from expand="glob">
      */LC_MESSAGES/draksnapshot.mo
      */LC_MESSAGES/drakx-net.mo
      */LC_MESSAGES/drakx-kbd-mouse-x11.mo
      */LC_MESSAGES/urpmi.mo
      */LC_MESSAGES/gtk20.mo
    </from>
  </to>
</from>

<from dir="/usr/share/X11/locale">
  C
  en_US.UTF-8 
  iso8859-1
</from>

<filter command="strip">
<from dir="/LIB">
  libnss_nis.so.2
  libnss_files.so.2
  libnss_dns.so.2
  libresolv.so.2
  <!-- needed for mount.ntfs-3g -->

  <!-- modules used by libnss3 -->
  libfreebl3.so
  libsoftokn3.so

  <!-- needed by dmraid -->
  libdmraid-events-isw.so
</from>
</filter>

<from>
  /etc/urpmi/prefer.vendor.list
  /etc/fonts/
  /etc/rpm/macros.d/legacy_compat.macros
<!--  /usr/share/X11/XKeysymDB -->
  /etc/pango/*/pango.modules
  /usr/LIB/libgdk_pixbuf-2.0.so.0
  /usr/LIB/gtk-2.0/*/immodules/im-cedilla.so
  /usr/LIB/gtk-2.0/*/engines/libia_ora.so
  /usr/share/mime/mime.cache

  /usr/lib/libDrakX/keyboard.pm
  /usr/lib/libDrakX/mouse.pm
  /usr/lib/libDrakX/network
  /usr/lib/libDrakX/Xconfig
  /usr/lib/libDrakX/auto/xf86misc
  /usr/lib/libDrakX/xf86misc
  <mode copy="keep-links">
     /usr/share/doc/installer-help/
  </mode>
  /usr/share/libDrakX/pixmaps
  <mode copy="keep-links">
     /usr/share/doc/installer-help/
  </mode>
  /usr/share/usb.ids
  /usr/share/locale/UTF-8
  /bin/brltty
  <mode copy="system">
    /sbin/blkid
  </mode>

  /usr/bin/drakx-matchbox-window-manager
  /usr/share/matchbox/mbnoapp.xpm

  /usr/games/digger
  /etc/pki/tls/certs/ca-bundle.crt

  /lib/udev/ata_id
  /lib/udev/scsi_id
  /lib/udev/pcmcia-socket-startup


  <!-- for GDB: -->
  <if set="DEBUG_INSTALL">
    /usr/include/python2.7/pyconfig.h
    /usr/LIB/libinproctrace.so
    /usr/LIB/libpython2.7.so.1.0
    /usr/LIB/python2.7/_abcoll.py
    /usr/LIB/python2.7/abc.py
    /usr/LIB/python2.7/codecs.py
    /usr/LIB/python2.7/config/Makefile
    /usr/LIB/python2.7/copy.py
    /usr/LIB/python2.7/copy_reg.py
    /usr/LIB/python2.7/encodings/aliases.py
    /usr/LIB/python2.7/encodings/__init__.py
    /usr/LIB/python2.7/encodings/utf_8.py
    /usr/LIB/python2.7/genericpath.py
    /usr/LIB/python2.7/lib-dynload/itertools.so
    /usr/LIB/python2.7/linecache.py
    /usr/LIB/python2.7/os.py
    /usr/LIB/python2.7/posixpath.py
    /usr/LIB/python2.7/re.py
    /usr/LIB/python2.7/site-packages/pygtk.pth
    /usr/LIB/python2.7/site.py
    /usr/LIB/python2.7/sre_compile.py
    /usr/LIB/python2.7/sre_constants.py
    /usr/LIB/python2.7/sre_parse.py
    /usr/LIB/python2.7/stat.py
    /usr/LIB/python2.7/sysconfig.py
    /usr/LIB/python2.7/traceback.py
    /usr/LIB/python2.7/types.py
    /usr/LIB/python2.7/UserDict.py
    /usr/LIB/python2.7/warnings.py
    /usr/LIB/python2.7/weakref.py
    /usr/LIB/python2.7/_weakrefset.py
    /usr/share/gdb/python/gdb/backtrace.py
    /usr/share/gdb/python/gdb/command/alias.py
    /usr/share/gdb/python/gdb/command/backtrace.py
    /usr/share/gdb/python/gdb/command/ignore_errors.py
    /usr/share/gdb/python/gdb/command/__init__.py
    /usr/share/gdb/python/gdb/command/pahole.py
    /usr/share/gdb/python/gdb/command/pretty_printers.py
    /usr/share/gdb/python/gdb/command/require.py
    /usr/share/gdb/python/gdb/command/upto.py
    /usr/share/gdb/python/gdb/FrameIterator.py
    /usr/share/gdb/python/gdb/FrameWrapper.py
    /usr/share/gdb/python/gdb/function/caller_is.py
    /usr/share/gdb/python/gdb/function/__init__.py
    /usr/share/gdb/python/gdb/function/in_scope.py
    /usr/share/gdb/python/gdb/__init__.py
  </if>

  <from expand="glob">
    <from spaces_in_filename="1">
       /usr/share/themes/Ia Ora*
    </from>
    <from spaces_in_filename="1">
       /usr/share/themes/Ia Ora*/*
    </from>
    <from spaces_in_filename="1">
       /usr/share/themes/Ia Ora*/matchbox/*
    </from>
    <from spaces_in_filename="1">
       /usr/share/themes/Ia Ora*/gtk-2.0/gtkrc
    </from>
    /usr/LIB/gdk-pixbuf-2.0/*/loaders.cache
    /usr/LIB/gdk-pixbuf-2.0/*/loaders/libpixbufloader-png.so
    /etc/gtk-2.0/gtk.immodules.*
    /etc/brltty/*.ttb
    /etc/brltty/*.txt
    /LIB/brltty/libbrlttyb??.so
  </from>

  <from expand="command">
    perl -Mlang -I.. -le 'print foreach lang::console_font_files()'
  </from>

  <if set="DEBUG_INSTALL">
    /etc/termcap
  </if>
</from>

<from dir="/usr/share/ldetect-lst">
  <filter command="gunzip">
    dmitable.gz  
  </filter>
  Cards+ MonitorsDB isdn.db
</from>


<from dir="/usr/LIB/pango/*/modules">
  pango-arabic-lang.so
  pango-indic-lang.so
  pango-thai-lang.so
</from>

<from dir="/usr/LIB/gconv">
  BIG5.so
  EUC-JP.so
  libGB.so
  libJIS.so
  libKSC.so
  EUC-KR.so
  ISO8859-15.so
  ISO8859-14.so
  ISO8859-13.so
  ISO8859-9E.so
  ISO8859-9.so
  ISO8859-7.so
  ISO8859-5.so
  ISO8859-3.so
  ISO8859-2.so
 <from expand="glob"> 
  KOI8-*.so
 </from>
  TIS-620.so
  CP1251.so
  GEORGIAN-PS.so
  EUC-CN.so
</from>

<filter subst="/^__END__/ and $_ = '', close ARGV">
<from expand="main-perl">
  File/Find.pm
  FileHandle.pm
  File/Temp.pm
  Getopt/Long.pm
  IPC/Open2.pm
  IPC/Open3.pm
  Net/Cmd.pm
  Net/Config.pm
  Net/FTP/A.pm
  Net/FTP/dataconn.pm
  Net/FTP/I.pm
  Net/FTP.pm
  Net/Netrc.pm
  Net/Ping.pm
  PerlIO.pm
  SelfLoader.pm
  Time/Local.pm
  bytes_heavy.pl <!-- needed by urpm::mirrors -->
  constant.pm
  dumpvar.pl
  integer.pm
  locale.pm
  overload.pm
  overloading.pm
  unicore/Heavy.pl
  unicore/To/Digit.pl
  unicore/To/Fold.pl
  unicore/To/Lower.pl
  unicore/To/Upper.pl
  utf8_heavy.pl
  ARCH-linux-thread-multi/B.pm
  ARCH-linux-thread-multi/Config_git.pl
  ARCH-linux-thread-multi/Config_heavy.pl
  ARCH-linux-thread-multi/Data/Dumper.pm
  ARCH-linux-thread-multi/Encode.pm
  ARCH-linux-thread-multi/Encode/Alias.pm
  ARCH-linux-thread-multi/Encode/Config.pm
  ARCH-linux-thread-multi/Encode/Encoding.pm
  ARCH-linux-thread-multi/File/Spec.pm
  ARCH-linux-thread-multi/File/Spec/Unix.pm
  ARCH-linux-thread-multi/IO/File.pm
  ARCH-linux-thread-multi/IO/Seekable.pm
  ARCH-linux-thread-multi/IO/Select.pm
  ARCH-linux-thread-multi/List/Util.pm
  ARCH-linux-thread-multi/Scalar/Util.pm
  ARCH-linux-thread-multi/Time/HiRes.pm
  <if ARCH="ia64">
  ARCH-linux-thread-multi/asm-i386/unistd.ph 
  ARCH-linux-thread-multi/asm-x86_64/unistd.ph 
  ARCH-linux-thread-multi/asm/break.ph 
  </if>
  ARCH-linux-thread-multi/auto/B/B.so
  ARCH-linux-thread-multi/auto/Data/Dumper/Dumper.so
  ARCH-linux-thread-multi/auto/Encode/Encode.so
  ARCH-linux-thread-multi/auto/List/Util/Util.so
  ARCH-linux-thread-multi/auto/Time/HiRes/HiRes.so
  <if set="DEBUG_INSTALL">
    perl5db.pl
    Term/ReadLine.pm
  </if>
</from>

<from expand="perl">
  Config/IniFiles.pm
  MDV/Distribconf.pm
  MDV/Snapshot/Common.pm
  MDV/Snapshot/Restore.pm
  Parse/EDID.pm
  XML/SAX/Exception.pm
  ARCH-linux-thread-multi/List/MoreUtils.pm
  ARCH-linux-thread-multi/Term/ReadKey.pm
  ARCH-linux-thread-multi/XML/LibXML.pm
  ARCH-linux-thread-multi/XML/LibXML/AttributeHash.pm
  ARCH-linux-thread-multi/XML/LibXML/Error.pm
  ARCH-linux-thread-multi/XML/LibXML/NodeList.pm
  ARCH-linux-thread-multi/XML/LibXML/Reader.pm
  ARCH-linux-thread-multi/XML/LibXML/XPathContext.pm
  ARCH-linux-thread-multi/XML/LibXML/Boolean.pm
  ARCH-linux-thread-multi/XML/LibXML/Literal.pm
  ARCH-linux-thread-multi/XML/LibXML/Number.pm
  ARCH-linux-thread-multi/auto/Term/ReadKey/ReadKey.so
  ARCH-linux-thread-multi/auto/XML/LibXML/LibXML.so
  urpm.pm
  urpm/args.pm
  urpm/cdrom.pm
  urpm/cfg.pm
  urpm/download.pm
  urpm/get_pkgs.pm
  urpm/install.pm
  urpm/lock.pm
  urpm/main_loop.pm
  urpm/md5sum.pm
  urpm/media.pm
  urpm/mirrors.pm
  urpm/msg.pm
  urpm/orphans.pm
  urpm/removable.pm
  urpm/select.pm
  urpm/signature.pm
  urpm/util.pm
  urpm/sys.pm
  urpm/xml_info.pm
  urpm/xml_info_pkg.pm
  <if set="DEBUG_INSTALL">
    ARCH-linux-thread-multi/Term/ReadLine/Gnu.pm
    ARCH-linux-thread-multi/Term/ReadLine/Gnu/XS.pm
    ARCH-linux-thread-multi/auto/Term/ReadLine/Gnu/Gnu.so
    ARCH-linux-thread-multi/auto/Term/ReadLine/Gnu/XS/autosplit.ix
  </if>
</from>

<from expand="rpm" matching="m!/usr/lib/perl5/.*/unicore/lib!">
  perl
</from>

<from expand="rpm" matching="m!^/usr/lib/perl5! and !/\.pod$/">
  perl-Curses
  perl-Curses-UI
  perl-File-FnMatch
  perl-Filesys-Df
  perl-Clone
  perl-Glib
  perl-Gtk2
  perl-Gtk2-WebKit
  perl-Pango
  perl-URPM
</from>
</filter>

<from dir="..">
  <to dir="$(REP4PMS)">
    <filter command="strip">
      <from expand="command">
	cd .. ; find auto -follow -name "*.so"
      </from>
    </filter>
  </to>
</from>

<from dir="../../tools">
  <to dir="/usr/bin" flatten="on">
    xhost+
  </to>
</from>

<from dir="../standalone">
  <to dir="/usr/bin">
    display_release_notes.pl
  </to>
</from>


<from dir="share">
  <to dir="/usr/share">
    consolefonts symlinks
    upgrade
  </to>
</from>

<from dir="../pixmaps">
  <to dir="/usr/share">
    <from expand="glob">
      *.png
    </from>
  </to>
</from>

<from dir="../share">
  <to dir="/usr/share">
    <from expand="glob">
      *.png
    </from>
  </to>
</from>

<from dir="share">
  <to dir="/etc/gtk-2.0/">
    gtkrc
  </to>
</from>


<from dir="pixmaps">
  <to dir="/usr/share">
    <from expand="glob">
      *.png
    </from>   
  </to>
</from>

<from dir="pixmaps/langs">
  <to dir="/usr/share/langs">
    <from expand="command">
      perl -I.. -Mlang -le 'print "lang-$_.png" foreach lang::list_langs()'
    </from>
  </to>
</from>

</list>
