#!/usr/bin/perl

use lib qw(/usr/lib/libDrakX);


use interactive;
use standalone;
use keyboard;
use Xconfigurator_consts;
use common qw(:system);
use c;

local $_ = join '', @ARGV;

/-h/ and die "usage: drakxconf\n";

my $in = vnew interactive('su');
my @l=(
       { des => 'Display Configuration',
	 cmd => 'XFdrake'},
       { des => 'Add new users',
	 cmd => 'adduserdrake'},
       { des => 'Hard Drive Configuration',
	 cmd => 'diskdrake'},
       { des => 'Service Configuration',
	 cmd => 'drakxservices'},
       { des => 'KeyBoard Configuration',
	 cmd => 'keyboarddrake'},
       { des => 'Mouse Configuration',
	 cmd => 'mousedrake'},
       { des => 'Internet & Network',
	 cmd => 'draknet'},
       { des => 'Printer Configuration',
	 cmd => 'printerdrake'},
       { des => 'Security Levels',
	 cmd => 'draksec'},
       { des => 'Boot Configuration',
	 cmd => 'drakboot'},
      );
my $choice = $in->ask_from_listf(_("Control Center"),
			    _("Choose the tool you want to use"),
			    sub { (int grep { -x "$_/" . $_[0]{cmd} } split (":", $ENV{PATH})) ? $_[0]{des} : ()  },#grep { my $prog = $_; int grep { -x "$_/$prog" } split ":", $ENV{PATH} } $_[0]{des} },
			    \@l ) or $in->exit(1);
$in->end;

exec $choice->{cmd}, @ARGV or $in->exit(1);
