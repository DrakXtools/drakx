Index: install_steps_interactive.pm
===================================================================
RCS file: /cooker/gi/perl-install/install_steps_interactive.pm,v
retrieving revision 1.810
retrieving revision 1.812
diff -u -p -r1.810 -r1.812
--- install_steps_interactive.pm	12 Mar 2003 15:34:46 -0000	1.810
+++ install_steps_interactive.pm	20 Mar 2003 10:12:38 -0000	1.812
@@ -1006,6 +1006,9 @@ sub summary {
 	    local $::expert = $::expert;
 	    require network::netconnect;
 	    network::netconnect::main($o->{prefix}, $o->{netcnx} ||= {}, $o->{netc}, $o->{mouse}, $o, $o->{intf}, 0, 0, 1);
+	    #- in case netcnx type is not updated.
+	    require network::network;
+	    network::network::probe_netcnx_type($o->{prefix}, $o->{netc}, $o->{intf}, $o->{netcnx});
 	},
     b
     };
 
Index: lang.pm
===================================================================
RCS file: /cooker/gi/perl-install/lang.pm,v
retrieving revision 1.309
retrieving revision 1.312
diff -u -p -r1.309 -r1.312
--- lang.pm	11 Mar 2003 23:35:36 -0000	1.309
+++ lang.pm	19 Mar 2003 17:06:18 -0000	1.312
@@ -229,7 +229,7 @@ my %countries = (
 'GU' => [ N_("Guam"),           'en_US', '4' ], #
 'GW' => [ N_("Guinea-Bissau"),  'pt_PT', '3' ], #
 'GY' => [ N_("Guyana"),         'en_US', '5' ], #
-'HK' => [ N_("Hong Kong"),      'zh_HK', '2' ],
+'HK' => [ N_("China") . ' (' . N_("Hong Kong") . ')',      'zh_HK', '2' ],
 'HM' => [ N_("Heard and McDonald Islands"), 'en_US', '4' ], #
 'HN' => [ N_("Honduras"),       'es_HN', '5' ],
 'HR' => [ N_("Croatia"),        'hr_HR', '1' ],
@@ -742,6 +742,9 @@ sub l2pango_font {
 
 sub set {
     my ($lang, $translate_for_console) = @_;
+
+    #- disable Arabic in install as no (free) fonts are available.
+    $lang eq 'ar' and $lang='en_US';
 
     exists $langs{$lang} or log::l("lang::set: trying to set to $lang but I don't know it!"), return;
 
Index: standalone/service_harddrake
===================================================================
RCS file: /cooker/gi/perl-install/standalone/service_harddrake,v
retrieving revision 1.34
diff -u -p -r1.34 service_harddrake
--- standalone/service_harddrake	12 Mar 2003 10:55:35 -0000	1.34
+++ standalone/service_harddrake	21 Mar 2003 16:06:52 -0000
@@ -13,7 +13,7 @@ use modules;
 use Storable qw(store retrieve);
 
 my $invert_do_it = $ARGV[0] eq 'X11' ? 1 : 0;
-my ($hw_sysconfdir, $timeout) = ("/etc/sysconfig/harddrake2", $invert_do_it ? 600 : 5);
+my ($hw_sysconfdir, $timeout) = ("/etc/sysconfig/harddrake2", $invert_do_it ? 600 : 25);
 my $last_boot_config = $hw_sysconfdir."/previous_hw";
 
 $last_boot_config .= '_X11' if $invert_do_it;
Index: drakxtools.spec
===================================================================
RCS file: /cooker/gi/perl-install/drakxtools.spec,v
retrieving revision 1.247
diff -u -p -r1.247 drakxtools.spec
--- drakxtools.spec	16 Mar 2003 15:30:56 -0000	1.247
+++ drakxtools.spec	21 Mar 2003 16:17:22 -0000
@@ -1,7 +1,7 @@
 Summary: The drakxtools (XFdrake, diskdrake, keyboarddrake, mousedrake...)
 Name:    drakxtools
 Version: 9.1
-Release: 26mdk
+Release: 27mdk
 Url: http://www.mandrakelinux.com/en/drakx.php2
 Source0: %name-%version.tar.bz2
 License: GPL
@@ -303,6 +303,9 @@ file /etc/sysconfig/harddrake2/previous_
 %config(noreplace) %_sysconfdir/logrotate.d/drakxtools-http
 
 %changelog
+* Fri Mar 21 2003 Thierry Vignaud <tvignaud@mandrakesoft.com> 9.1-27mdk
+- harddrake service: increase default timeout from 5 to 25 seconds
+
 * Sun Mar 16 2003 Warly <warly@mandrakesoft.com> 9.1-25mdk
 - do a correct cvs up of all gi before (me sux)
 
Index: install_steps_interactive.pm
===================================================================
RCS file: /cooker/gi/perl-install/install_steps_interactive.pm,v
retrieving revision 1.810
diff -u -p -r1.810 install_steps_interactive.pm
--- install_steps_interactive.pm	12 Mar 2003 15:34:46 -0000	1.810
+++ install_steps_interactive.pm	21 Mar 2003 16:11:09 -0000
@@ -894,7 +894,7 @@ sub summary {
     my $timezone_manually_set;  
     push @l, {
 	group => N("System"),
-	label => N("Country"),
+	label => N("Country") . N(" / Region"),
 	val => sub { lang::c2name($o->{locale}{country}) },
 	clicked => sub {
 	    any::selectCountry($o, $o->{locale}) or return;
Index: any.pm
===================================================================
RCS file: /cooker/gi/perl-install/any.pm,v
retrieving revision 1.340
diff -u -p -r1.340 any.pm
--- any.pm	13 Mar 2003 10:42:51 -0000	1.340
+++ any.pm	21 Mar 2003 16:11:09 -0000
@@ -688,7 +688,7 @@ sub selectCountry {
     my ($other, $ext_country);
     member($country, @best) or ($ext_country, $country) = ($country, $ext_country);
     $o->ask_from_(
-		  { title => N("Country"), 
+		  { title => N("Country") . N(" / Region"), 
 		    messages => N("Please choose your country."),
 		    interactive_help_id => 'selectCountry',
 		    advanced_messages => N("Here is the full list of available countries"),
