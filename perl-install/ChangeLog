2000-03-01  François Pons  <fpons@mandrakesoft.com>

	* *.pm: heavy modification to take into account smaller
	transaction during installation.
	still a lot of test to perform, no provides updated currently and
	building of hdlist.cz2 and depslist.ordered need old files...
	nothing done for hdlist.gz during post installation, but
	hdlist.cz2 is already copied in /var/lib/urpmi [and is used during
	installation of packages as extract_archive need a true file].

2000-03-01  Pixel  <pixel@mandrakesoft.com>

	* install_steps_gtk.pm (new): more intelligent SIGCHLD handler

2000-02-29  Pixel  <pixel@mandrakesoft.com>

	* modules.pm: moved common network stuff from "net" to "network"
	(modules like nfs lockd...)

	* fs.pm (write_fstab): moved the sort to the right place

	* services.pm (drakxservices): chkconfig --list is i18n'ed :(
	set LANGUAGE=C before

	* partition_table_raw.pm (get_geometry): geom{cylinders} must not
	be a decimal value :)

	* install_steps_gtk.pm (create_logo_window): set_name logo for
	logo window
	* share/install.rc: force disabling of background image theme

	* install_steps_gtk.pm (enteringStep): add step information for
	console 1

	* any.pm (addKdmIcon): new function
	* install_steps.pm (addUser): handle field icon
	* install_steps_interactive.pm (addUser): add choice of kdm icon
	* standalone/adduserdrake: add choice of kdm icon

	* diskdrake.pm (ask_all_data...): change for easier i18n

	* install_steps.pm (miscellaneous): add CLEAN_TMP handling
	(need cleaning?)
	* install_steps_interactive.pm (miscellaneous): add CLEAN_TMP
	option in expert
	* install2.pm (miscellaneous): add CLEAN_TMP option for
	/etc/sysconfig/system	

	* install_steps_interactive.pm (miscellaneous): forbidden
	useSupermount if high security.	

	* mouse.pm (detect): fix bug (ttyS instead of ttyS0)

2000-02-28  Pixel  <pixel@mandrakesoft.com>

	* install_steps_gtk.pm (createXconf): do not use "Generic VGA" for
	svga and accel. SVGA also wants 16 bpp. added ugly modeline for
	800x600.	

	* partition_table_raw.pm (get_geometry): when the
	HDIO_GET_IDENTITY fails, defaults to what GETGEO gave

	* install2.pm (main): use modules::load_multi to increase boot
	start time

	* modules.pm (load_multi): added this function for loading many
	modules at once.

	* install_steps_gtk.pm (new): increase time before timeout

	* detect_devices.pm (cdroms): change the device associated with
	ide-burners (hdX -> scdX). Problem is how to know the X in scdX :(	

	* modules.pm (write_conf): sort scsi_hostadapter's

2000-02-27  Pixel  <pixel@mandrakesoft.com>

	* install2.pm (main): load ide-probe and the like in 'prereq' type
	so no aliases are added to conf.modules

2000-02-25  Pixel  <pixel@mandrakesoft.com>

	* devices.pm (make): small code cleanup

	* partition_table_raw.pm (adjustEnd): more explicit error message

	* fsedit.pm (allocatePartitions): fix a bug (size was getting too
	big after each allocation) making adjustEnd cry

2000-02-24  Pixel  <pixel@mandrakesoft.com>

	* interactive_gtk.pm (new): added the "new" method to initialize
	windowheight for isStandalone

	* install_steps_gtk.pm (new): returns undef in case no X server
	works	

	* install2.pm (main): moved the ejectCdrom from install_steps::END
	to here
	* install2.pm (main): fix the $SIG{SEGV} handler
	* install2.pm (main): added a "try again" in text install if the
	"new" fails

	* install_steps_interactive.pm (createBootdisk): fix an error for
	non fdX choice of floppy drive
	
	* install_steps_interactive.pm (setup_thiskind): remove the
	"defined @l"

2000-02-23  Pixel  <pixel@mandrakesoft.com>

	* install2.pm (%suggestedPartitions): remove any /boot entries
	* install2.pm (selectInstallClass): removed the special code to
	/boot entries from suggestedPartitions for on non-intel (and it
	was buggy :)
	* fsedit.pm (@suggestions): remove the /boot entry
	* fsedit.pm (check_mntpoint): remove the 1024 cylinder check	
	* fsedit.pm (suggest_part): remove the 1024 cylinder special case

	* install_steps_interactive.pm (setupLILO): replace linear option
	by lba32

	* lilo.pm (suggest): add lba32 by default

	* install_steps_interactive.pm (load_thiskind): moved the HPT
	stuff to install_any::ultra66 and call it.
	Add sound card configuration (3 lines :)

	* my_gtk.pm and interactive_gtk: resize the list and tree based on
	root window size

	* install_steps_gtk: $width and $height goes $::rootwidth and
	$::rootheight, also other dimensions goes global (main::)

	* commands.pm (strings): replace the typo \{$n,} by {$n,}

2000-02-23  François Pons  <fpons@mandrakesoft.com>

	* build_archive, extract_archive: changed format of TOC to speed
	up extraction of archive, now 5 to 6 times faster to read TOC :-)
	
2000-02-22  Pixel  <pixel@mandrakesoft.com>

	* Xconfigurator.pm: load "Cards" database only to translate NAME
	to fields. Added file CardsNames created from Cards using
	share/Cards2CardsNames. Kind of list of normalized NAMEs	

	* MonitorsDB: replace the ` ' separator for vendor by `|'

	* install_steps_interactive.pm (timeConfig): use ask_from_treelist	

	* interactive_gtk.pm (ask_from_treelist): creation of
	ask_from_treelist. Usage is just the same as ask_from_list with
	one more argument (the separator eg: |, /)

2000-02-21  François Pons  <fpons@mandrakesoft.com>

	* diskdrake.pm: fixed deadlock while trying to create partition
	when available space is equal or less than 2 cylinders. fixed
	Create action on corrupted partition by removing stalling window.
	Blocked partition table writing if there are error by forcing user
	to correct partition table.
	* partition_table.pm: fixed typo in verifyParts with cdie, added
	verifyParts on Resize action.
	
2000-02-21  Pixel  <pixel@mandrakesoft.com>

	* install_steps_gtk.pm (create_big_help): display the help in full
	screen	

	* my_gtk.pm (_create_window): add big help on F1

	* common.pm (add2hash): now returns the first parameter

	* mouse.pm (detect): really defaults to serial mouse

	* interactive.pm: add ask_many_from_list_with_help and
	ask_many_from_list_with_help_ref

	* services.pm: creation, it handles what was in
	standalone/drakxservices

2000-02-18  Pixel  <pixel@mandrakesoft.com>

	* install_steps_gtk.pm (createXconf): added /dev/ (X wants
	"/dev/psaux" and not "psaux")

	* diskdrake.pm (Create): show start sector even for non-expert on
	non-i386

2000-02-16  Pixel  <pixel@mandrakesoft.com>

	* mouse.pm (detect): add defaults to serial mouse

	* install_steps_gtk.pm (createXconf): remove the defaults to
	serial mouse

2000-02-15  Pixel  <pixel@mandrakesoft.com>

	* diskdrake.pm: "After %s partition %s," inlined otherwise does
	not please pablo and translators...

2000-02-14  Pixel  <pixel@mandrakesoft.com>

	* diskdrake.pm (Create): hide start sector choice for non-expert

2000-02-11  Pixel  <pixel@mandrakesoft.com>

	* partition_table_raw.pm (get_geometry): do not use the cylinder
	number given by HDIO_GETGEO cuz limited to 16bits. Compute using
	the total_sectors using HDIO_GET_IDENTITY

	* c/stuff.xs.pm: added total_sectors (gives the number of sector
	of a drive)

	* modules.pm (load): ignore error in loading prereq's
	
	* modules.pm (@drivers_by_category): rcpci instead of rcpci45,
	z85230 added

	* commands.pm (mount): add modules::load_deps otherwise the
	fs::mount won't succeed insmoding vfat if needed

2000-02-11  François Pons  <fpons@mandrakesoft.com>

	* fixed diskdrake to handle limit case when creating and resizing
	partition table, address size limit and start sector limit.

2000-02-11  Pixel  <pixel@mandrakesoft.com>

	* install2.pm (main): add a callback on SEGV
	-> message printed
	-> that way, ENDs are called (otherwise skipped)

	* install_steps_interactive.pm (setup_thiskind): handles the undef
	value returned by load_thiskind
	
	* install_steps_interactive.pm (exitInstall): do not call
	install_steps::exitInstall

	* install_steps (exitInstall): removed
	* install_steps (END): added (it does ejectCdrom)

	* install_steps_interactive.pm (load_thiskind): returns undef if
	error loading a module

	* fs.pm (format_part): changed the prototype from $;$@ to $;@
	otherwise, @options always have a value (mostly undef) and mkdosfs
	fails (with "mkdosfs", "/dev/hdXX", undef, "-F", 32)

	* install_steps_interactive.pm (setup_thiskind):
	add a $auto_probe_pci that overrules $o->{auto_probe_pci}
	(that way no pci probe the second time)

2000-02-10  François Pons  <fpons@mandrakesoft.com>

	* heavy modification of build_archive and extract_archive to manage
	a TOC directly in archive file, handle bzip2 or gzip compression,
	extract_archive can extract multiple files a time, with minimal
	invocation of uncompress program and follow symlink and expand
	directory contents.
	* use build_archive/extract_archive for locales.
	* fixed a min/max in install_steps_gtk for Resize/Create partition.
	* fixed adjustEnd with dos partition table, take care of magic 63
	sectors at beginning of partitions, a more solid method should be
	used for that.

2000-02-10  Pixel  <pixel@mandrakesoft.com>

	* modules.pm (load_thiskind): skip modules "unknown" and "ignore"

2000-02-09  Pixel  <pixel@mandrakesoft.com>

	* partition_table.pm (add): cdie if maximum number of partitions
	handled by linux is reached

	* Xconfigurator.pm (chooseResolutionsGtk): display the graphic
	card or server found

	* install_any.pm (relGetFile): for mdkinst files, take care not to
	have a double '/' (see debbugs #591)

	* install_steps_interactive.pm (configureNetwork):
	purpose: add ability to configure both modem and lan
	         clean up the behaviour

	* fs.pm (write_fstab): 
	purpose: sort the fstab per mount point (cuz /usr must be before /usr/local)
	also: rewrite of the part writing the fstab. 
